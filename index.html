<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramadan Countdown 2025</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <style>
        /* نفس الأنماط السابقة بدون تغيير */
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Poppins:wght@300;400;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            outline: none;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        :root {
            --primary-color: #0a1128;
            --accent-color: #d4af37;
            --text-color: #ffffff;
            --secondary-accent: #846d1d;
        }

        html[dir="rtl"] {
            direction: rtl;
            text-align: right;
        }

        body {
            min-height: 100vh;
            background: var(--primary-color);
            font-family: 'Poppins', sans-serif;
            color: var(--text-color);
            line-height: 1.6;
            position: relative;
            overflow-x: hidden;
        }

        html[dir="rtl"] body {
            font-family: 'Amiri', serif;
        }

        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: linear-gradient(45deg, 
                var(--primary-color) 0%,
                #132447 50%,
                var(--primary-color) 100%);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        .geometric-pattern {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(30deg, var(--secondary-accent) 12%, transparent 12.5%, transparent 87%, var(--secondary-accent) 87.5%, var(--secondary-accent)),
                linear-gradient(150deg, var(--secondary-accent) 12%, transparent 12.5%, transparent 87%, var(--secondary-accent) 87.5%, var(--secondary-accent)),
                linear-gradient(30deg, var(--secondary-accent) 12%, transparent 12.5%, transparent 87%, var(--secondary-accent) 87.5%, var(--secondary-accent)),
                linear-gradient(150deg, var(--secondary-accent) 12%, transparent 12.5%, transparent 87%, var(--secondary-accent) 87.5%, var(--secondary-accent));
            background-size: 80px 140px;
            opacity: 0.03;
        }

        .top-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 15px;
            background: rgba(19, 36, 71, 0.8);
            padding: 10px;
            border-radius: 10px;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        html[dir="rtl"] .top-controls {
            left: 20px;
            right: auto;
        }

        .icon-btn {
            background: rgba(212, 175, 55, 0.1);
            border: 1px solid var(--accent-color);
            color: var(--text-color);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon-btn:hover {
            background: var(--accent-color);
            color: var(--primary-color);
            transform: scale(1.1);
        }

        .icon-btn:active {
            transform: scale(0.95);
        }

        .main-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .container {
            background: rgba(19, 36, 71, 0.5);
            padding: clamp(20px, 5vw, 40px);
            border-radius: 20px;
            border: 1px solid rgba(212, 175, 55, 0.1);
            max-width: 1200px;
            width: 95%;
            margin: 20px auto;
            backdrop-filter: blur(10px);
        }

        .mosque-animation {
            width: clamp(150px, 30vw, 200px);
            height: clamp(90px, 18vw, 120px);
            margin: 0 auto 20px;
            position: relative;
        }

        .dome {
            position: absolute;
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            width: 30%;
            height: 50%;
            background: var(--accent-color);
            border-radius: 50% 50% 0 0;
            animation: glowDome 2s infinite;
        }

        .minaret {
            position: absolute;
            width: 10%;
            height: 66.67%;
            background: var(--accent-color);
            bottom: 0;
        }

        .minaret-left {
            left: 15%;
            animation: sway 3s ease-in-out infinite;
        }

        .minaret-right {
            right: 15%;
            animation: sway 3s ease-in-out infinite reverse;
        }

        .countdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: clamp(10px, 2vw, 25px);
            margin: 30px 0;
            justify-items: center;
        }

        .time-unit {
            background: rgba(212, 175, 55, 0.1);
            padding: clamp(15px, 3vw, 25px);
            border-radius: 15px;
            width: 100%;
            max-width: 140px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(212, 175, 55, 0.2);
            transition: transform 0.3s ease;
        }

        .time-unit:hover {
            transform: translateY(-5px);
        }

        .number {
            font-size: clamp(2em, 5vw, 3em);
            font-weight: bold;
            color: var(--accent-color);
        }

        .label {
            font-size: clamp(0.9em, 2vw, 1.1em);
            text-transform: uppercase;
            margin-top: 8px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .feature-card {
            background: rgba(212, 175, 55, 0.05);
            padding: clamp(15px, 3vw, 25px);
            border-radius: 10px;
            border: 1px solid rgba(212, 175, 55, 0.1);
            transition: transform 0.3s ease;
            height: 100%;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h3 {
            color: var(--accent-color);
            margin-bottom: 15px;
            font-size: clamp(1.1em, 2.5vw, 1.3em);
        }

        .prayer-time {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            padding: 5px 0;
            border-bottom: 1px solid rgba(212, 175, 55, 0.1);
        }

        .fasting-tips li {
            margin: 10px 0;
            padding-left: 20px;
            position: relative;
        }

        html[dir="rtl"] .fasting-tips li {
            padding-left: 0;
            padding-right: 20px;
        }

        .fasting-tips li::before {
            content: '•';
            color: var(--accent-color);
            position: absolute;
            left: 0;
        }

        html[dir="rtl"] .fasting-tips li::before {
            right: 0;
            left: auto;
        }

        .share-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(19, 36, 71, 0.95);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid var(--accent-color);
            z-index: 1001;
            max-width: 90%;
            width: 400px;
            animation: modalFade 0.3s ease-in-out;
        }

        .share-modal.active {
            display: block;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            animation: overlayFade 0.3s ease-in-out;
        }

        .modal-overlay.active {
            display: block;
        }

        .share-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .share-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 10px;
            border-radius: 8px;
            border: none;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .share-btn:hover {
            transform: translateY(-2px);
            filter: brightness(1.1);
        }

        .share-btn:active {
            transform: translateY(0);
        }

        .twitter-btn { 
            background: #000000;
            transition: background-color 0.3s ease;
        }
        .twitter-btn:hover {
            background: #333333;
        }
        .facebook-btn { background: #4267B2; }
        .whatsapp-btn { background: #25D366; }
        .telegram-btn { background: #0088cc; }

        .hadith-section {
            margin-top: 30px;
            text-align: center;
            position: relative;
            padding: 20px;
            background: rgba(212, 175, 55, 0.05);
            border-radius: 10px;
        }

        .hadith-text {
            font-style: italic;
            position: relative;
            border-left: 3px solid var(--accent-color);
            padding: 10px 20px;
            font-size: clamp(0.9em, 2vw, 1.1em);
        }

        html[dir="rtl"] .hadith-text {
            border-left: none;
            border-right: 3px solid var(--accent-color);
        }

        .congrat-message {
            text-align: center;
            color: var(--accent-color);
            margin: 15px 0;
            font-size: 1.2em;
            animation: fadeIn 1s ease;
        }

        #sender-input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--accent-color);
            border-radius: 5px;
            color: var(--text-color);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes modalFade {
            from {
                opacity: 0;
                transform: translate(-50%, -60%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        @keyframes overlayFade {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes glowDome {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        @keyframes sway {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(2deg); }
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @media (max-width: 768px) {
            .countdown {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 15px;
            }
            
            .top-controls {
                top: 10px;
                right: 10px;
            }
        }

        @media (max-width: 480px) {
            .countdown {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .time-unit {
                padding: 10px;
            }
            
            .number {
                font-size: 1.8em;
            }
            
            .label {
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>
    <div class="animated-bg"></div>
    <div class="geometric-pattern"></div>
    
    <div class="top-controls">
        <button class="icon-btn" id="lang-toggle">
            <i class="fas fa-language"></i>
        </button>
        <button class="icon-btn" id="share-btn">
            <i class="fas fa-share-alt"></i>
        </button>
    </div>

    <div class="modal-overlay">
        <div class="share-modal">
            <h3 style="color: var(--accent-color); margin-bottom: 15px;" data-translate="share-title">Share and Earn Rewards</h3>
            <p style="margin-bottom: 20px;" data-translate="share-message">Share this countdown with others and earn rewards for spreading goodness!</p>
            <input type="text" id="sender-input" data-translate-placeholder="enter-name" placeholder="Enter your name">
            <div class="share-buttons">
                <button class="share-btn twitter-btn">
                    <i class="fa-brands fa-x-twitter"></i>
                    X
                </button>
                <button class="share-btn facebook-btn">
                    <i class="fab fa-facebook-f"></i>
                    Facebook
                </button>
                <button class="share-btn whatsapp-btn">
                    <i class="fab fa-whatsapp"></i>
                    WhatsApp
                </button>
                <button class="share-btn telegram-btn">
                    <i class="fab fa-telegram-plane"></i>
                    Telegram
                </button>
            </div>
        </div>
    </div>

    <div class="main-container">
        <div class="container">
            <div id="congrat-container"></div>
            
            <div class="mosque-animation">
                <div class="dome"></div>
                <div class="minaret minaret-left"></div>
                <div class="minaret minaret-right"></div>
            </div>

            <h1 style="text-align: center; color: var(--accent-color); margin-bottom: 30px;" data-translate="title">
                Ramadan Countdown 2025
            </h1>

            <div class="countdown">
                <div class="time-unit">
                    <div class="number" id="days">00</div>
                    <div class="label" data-translate="days">Days</div>
                </div>
                <div class="time-unit">
                    <div class="number" id="hours">00</div>
                    <div class="label" data-translate="hours">Hours</div>
                </div>
                <div class="time-unit">
                    <div class="number" id="minutes">00</div>
                    <div class="label" data-translate="minutes">Minutes</div>
                </div>
                <div class="time-unit">
                    <div class="number" id="seconds">00</div>
                    <div class="label" data-translate="seconds">Seconds</div>
                </div>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <h3 data-translate="prayer-times">Prayer Times</h3>
                    <div id="prayer-times"></div>
                </div>
                
                <div class="feature-card">
                    <h3 data-translate="fasting-tips">Fasting Tips</h3>
                    <ul id="fasting-tips" class="fasting-tips"></ul>
                </div>

                <div class="feature-card">
                    <h3 data-translate="hadith-title">Daily Hadith</h3>
                    <div class="hadith-text" id="hadith"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
    const translations = {
        en: {
            "title": "Ramadan Countdown 2025",
            "days": "Days",
            "hours": "Hours",
            "minutes": "Minutes",
            "seconds": "Seconds",
            "prayer-times": "Prayer Times",
            "fasting-tips": "Fasting Tips",
            "hadith-title": "Daily Hadith",
            "share-title": "Share and Earn Rewards",
            "share-message": "Share this countdown with others and earn rewards for spreading goodness!",
            "enter-name": "Enter your name",
            "congrat-message": "congratulates you on the arrival of Ramadan!",
            "share-surprise": "has prepared a surprise for you",
            "tips": [
                "Stay hydrated during non-fasting hours",
                "Have a balanced suhoor meal",
                "Break fast with dates and water",
                "Avoid excessive eating at iftar",
                "Get adequate sleep"
            ],
            "hadiths": [
                "When Ramadan enters, the gates of Paradise are opened, and the gates of Hellfire are closed, and the devils are chained.",
                "Whoever fasts during Ramadan out of sincere faith and hoping to attain Allah's rewards, then all his past sins will be forgiven.",
                "When there comes the month of Ramadan, the gates of mercy are opened.",
                "Whoever stands (in prayer) in Ramadan out of faith and hoping for reward, his previous sins will be forgiven."
            ]
        },
        ar: {
            "title": "العد التنازلي لرمضان ٢٠٢٥",
            "days": "أيام",
            "hours": "ساعات",
            "minutes": "دقائق",
            "seconds": "ثواني",
            "prayer-times": "مواقيت الصلاة",
            "fasting-tips": "نصائح الصيام",
            "hadith-title": "الحديث اليومي",
            "share-title": "شارك واكسب الأجر",
            "share-message": "شارك العد التنازلي مع الآخرين واكسب الأجر بنشر الخير!",
            "enter-name": "أدخل اسمك",
            "congrat-message": "يهنئك بحلول شهر رمضان المبارك",
            "share-surprise": "قام بإعداد مفاجأة لك أضغط على الرابط",
            "tips": [
                "الحفاظ على شرب الماء خلال ساعات الإفطار",
                "تناول وجبة سحور متوازنة",
                "الإفطار على التمر والماء",
                "تجنب الإفراط في الطعام عند الإفطار",
                "الحصول على قسط كافٍ من النوم"
            ],
            "hadiths": [
                "إذا دخل رمضان فتحت أبواب الجنة، وغلقت أبواب النار، وصفدت الشياطين",
                "من صام رمضان إيماناً واحتساباً غفر له ما تقدم من ذنبه",
                "إذا جاء رمضان فتحت أبواب الرحمة",
                "من قام رمضان إيماناً واحتساباً غفر له ما تقدم من ذنبه"
            ]
        }
    };

    let currentLanguage = 'ar'; // اللغة الافتراضية عربية
    let countdownTimer;

    function initializeLanguage() {
        const savedLang = localStorage.getItem('preferredLanguage');
        if (savedLang) {
            setLanguage(savedLang);
        } else {
            setLanguage('ar'); // تعيين العربية كلغة افتراضية إذا لم يكن هناك تفضيل محفوظ
        }
        
        document.getElementById('lang-toggle').addEventListener('click', () => {
            const newLang = currentLanguage === 'en' ? 'ar' : 'en';
            setLanguage(newLang);
        });
    }

    function setLanguage(lang) {
        currentLanguage = lang;
        document.documentElement.lang = lang;
        document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
        
        document.querySelectorAll('[data-translate]').forEach(element => {
            const key = element.getAttribute('data-translate');
            if (translations[lang][key]) {
                element.textContent = translations[lang][key];
            }
        });

        document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
            const key = element.getAttribute('data-translate-placeholder');
            element.placeholder = translations[lang][key];
        });

        updatePrayerTimes();
        updateFastingTips();
        updateHadith();
        checkForSender();
        localStorage.setItem('preferredLanguage', lang);
    }

    function checkForSender() {
        const urlParams = new URLSearchParams(window.location.search);
        const sender = urlParams.get('sender');
        const container = document.getElementById('congrat-container');
        container.innerHTML = '';

        if (sender) {
            const decodedSender = decodeURIComponent(sender);
            const message = currentLanguage === 'ar' ?
                `${decodedSender} ${translations.ar['congrat-message']}` :
                `${decodedSender} ${translations.en['congrat-message']}`;
            
            const congratElement = document.createElement('div');
            congratElement.className = 'congrat-message';
            congratElement.textContent = message;
            container.appendChild(congratElement);
        }
    }

    function initializeShare() {
        const shareBtn = document.getElementById('share-btn');
        const modal = document.querySelector('.share-modal');
        const overlay = document.querySelector('.modal-overlay');

        shareBtn.addEventListener('click', () => {
            modal.classList.add('active');
            overlay.classList.add('active');
        });

        overlay.addEventListener('click', (e) => {
            if (e.target === overlay) {
                modal.classList.remove('active');
                overlay.classList.remove('active');
            }
        });

        document.querySelectorAll('.share-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const senderName = document.getElementById('sender-input').value.trim();
                const baseUrl = window.location.href.split('?')[0];
                const urlParams = new URLSearchParams();
                if (senderName) urlParams.set('sender', encodeURIComponent(senderName));
                const url = `${baseUrl}?${urlParams.toString()}`;

                const text = currentLanguage === 'ar' ?
                    (senderName ? 
                        `${senderName} ${translations.ar['share-surprise']}` : 
                        "انضم إلي في العد التنازلي لرمضان ٢٠٢٥!") :
                    (senderName ? 
                        `${senderName} ${translations.en['share-surprise']}` : 
                        "Join me in counting down to Ramadan 2025!");

                let shareUrl;
                if (btn.classList.contains('twitter-btn')) {
                    shareUrl = `https://x.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
                } else if (btn.classList.contains('facebook-btn')) {
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
                } else if (btn.classList.contains('whatsapp-btn')) {
                    shareUrl = `https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`;
                } else if (btn.classList.contains('telegram-btn')) {
                    shareUrl = `https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`;
                }

                window.open(shareUrl, '_blank');
            });
        });
    }

    function updatePrayerTimes() {
        const times = {
            Fajr: '05:30',
            Dhuhr: '13:30',
            Asr: '16:45',
            Maghrib: '19:15',
            Isha: '20:45'
        };

        const prayerNames = {
            en: { Fajr: 'Fajr', Dhuhr: 'Dhuhr', Asr: 'Asr', Maghrib: 'Maghrib', Isha: 'Isha' },
            ar: { Fajr: 'الفجر', Dhuhr: 'الظهر', Asr: 'العصر', Maghrib: 'المغرب', Isha: 'العشاء' }
        };

        const prayerTimesHtml = Object.entries(times)
            .map(([prayer, time]) => `
                <div class="prayer-time">
                    <span>${prayerNames[currentLanguage][prayer]}</span>
                    <span>${time}</span>
                </div>
            `).join('');

        document.getElementById('prayer-times').innerHTML = prayerTimesHtml;
    }

    function updateFastingTips() {
        const tips = translations[currentLanguage].tips;
        document.getElementById('fasting-tips').innerHTML = 
            tips.map(tip => `<li>${tip}</li>`).join('');
    }

    function updateHadith() {
        const hadiths = translations[currentLanguage].hadiths;
        const today = new Date().toDateString();
        const storedDate = localStorage.getItem('hadithDate');
        const storedIndex = localStorage.getItem('hadithIndex');

        let randomIndex;
        if (storedDate === today && storedIndex !== null) {
            randomIndex = parseInt(storedIndex, 10);
        } else {
            randomIndex = Math.floor(Math.random() * hadiths.length);
            localStorage.setItem('hadithDate', today);
            localStorage.setItem('hadithIndex', randomIndex);
        }

        document.getElementById('hadith').innerHTML = hadiths[randomIndex];
    }

    function updateCountdown() {
        const ramadanDate = new Date('March 1, 2025 00:00:00').getTime();
        const now = new Date().getTime();
        const distance = ramadanDate - now;

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById('days').textContent = String(days).padStart(2, '0');
        document.getElementById('hours').textContent = String(hours).padStart(2, '0');
        document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
        document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');

        if (distance < 0) {
            clearInterval(countdownTimer);
            const message = currentLanguage === 'ar' ? 'رمضان مبارك' : 'Ramadan Mubarak';
            document.querySelector('.countdown').innerHTML = `
                <div class="message" style="text-align: center; font-size: 2em; color: var(--accent-color);">
                    ${message}
                </div>`;
        }
    }

    function initializeApp() {
        initializeLanguage();
        initializeShare();
        checkForSender();
        updatePrayerTimes();
        updateFastingTips();
        updateHadith();
        
        updateCountdown();
        countdownTimer = setInterval(updateCountdown, 1000);
    }

    document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>
